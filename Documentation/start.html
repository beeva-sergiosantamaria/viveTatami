<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>TATAMI Design System</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">
    
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
</head> 

<body class="body-green">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <span aria-hidden="true" class="icon_documents_alt icon"></span>
                            <span class="text-highlight">TATAMI</span><span class="text-bold">Docs</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li><a href="../index.html">Home</a></li>
                    <li class="active">Quick Guide</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Quick Guide</h1>
                    <div class="meta"><i class="fa fa-clock-o"></i> 16/06/2017</div>
                </div><!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="Getstarted-section" class="doc-section">
                                <h2 class="section-title">TATAMI</h2>
                                <div class="section-block">
                                    <p>Tatami es un ecosistema donde se pueden desplegar diferentes entornos VR de aplicaciones de terceros, organizar, desplazarse y trabajar con ellos de forma rápida, cómoda y sencilla.
                                    </p> 
                                </div>
                            </section><!--//doc-section-->
                            <section id="navegacion-section" class="doc-section">
                                <h2 class="section-title">Navegación</h2>
                                <div id="dock"  class="section-block">
                                    <h3 class="block-title">DockTatami</h3>
                                    <p>El <strong>DockTatami</strong> es la <strong>zona principal</strong>. Es el entorno de inicio donde teerceros pueden ubicar los iconos de sus entornos VR y desde el cual puedes abrirlos, gestionarlos, ubicarlos. Nos sirve a su vez para probar la viabilidad de diferentes modelos de interaccion buscando un estandar de uso.
                                    </p>
                                    <img class="img-responsive" src="assets/images/tatami.png" alt="elegant icons" /></a>
                                </div><!--//section-block-->
                                <div id="step2"  class="section-block">
                                    <h3 class="block-title">Tatami Controller</h3>

                                     <div id="myCarrousel" class="carousel slide" data-ride="carousel">
                                        <ol class="carousel-indicators">
                                            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                            <li data-target="#myCarousel" data-slide-to="1"></li>
                                            <li data-target="#myCarousel" data-slide-to="2"></li>
                                        </ol>
                                        <div class="carousel-inner">
                                          <div class="item active">
                                            <img src="assets/images/tooltipStick.png" alt="Interactuar">
                                          </div>
                                          <div class="item">
                                            <img src="assets/images/tooltipviajar.png" alt="Chicago">
                                          </div>
                                          <div class="item">
                                            <img src="assets/images/tooltipSearch.png" alt="New York">
                                          </div>
 
                                        </div>
                                        <a class="left carousel-control" href="#myCarrousel" data-slide="prev">
                                          <span class="glyphicon glyphicon-chevron-left"></span>
                                          <span class="sr-only">Previous</span>
                                        </a>
                                        <a class="right carousel-control" href="#myCarrousel" data-slide="next">
                                          <span class="glyphicon glyphicon-chevron-right"></span>
                                          <span class="sr-only">Next</span>
                                        </a>
                                    </div>
                                    
                                    <p>Controlador personalizado para el entorno que dispone de diferentes herramientas por las que se puede navegar gracias al touchpad y que nos sirven para desplazarnos e interactuar con el ecosistema.
                                    </p>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                    <div class="callout-block callout-success">
                                        <div class="content">
                                            <h4 class="callout-title">Interactuar:</h4>
                                            <p>Entrar en contacto y manipular los elementos del entorno.</p>
                                        </div><!--//content-->
                                    </div>
										</div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="item active">
                                            <img src="assets/images/interactuar.png" alt="Interactuar">
                                          </div>
                                        </div>
                                    </div><!--//row-->
                                    <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                    <div class="callout-block callout-success">
                                        <div class="content">
                                            <h4 class="callout-title">Buscar:</h4>
                                            <p>Reconocimiento de voz para introducir terminos de búsqueda.</p>
                                        </div><!--//content-->
                                    </div>
        									
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="item active">
                                            <img src="assets/images/buscar.png" alt="Interactuar">
                                          </div>
                                        </div>
                                    </div><!--//row-->
                                    <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                    <div class="callout-block callout-success">
                                        <div class="content">
                                            <h4 class="callout-title">Desplazarse:</h4>
                                            <p>Apuntar a una App ya abierta para entrar en ella.</p>
                                        </div><!--//content-->
                                    </div>
        									
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="item active">
                                            <img src="assets/images/desplazarse.png" alt="Interactuar">
                                          </div>
                                        </div>
                                    </div><!--//row-->
                                    <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                    <div class="callout-block callout-success">
                                        <div class="content">
                                            <h4 class="callout-title">Cerrar:</h4>
                                            <p>Apuntar a una App para cerrarla si ya no nos interesa tenerla desplegada.</p>
                                        </div><!--//content-->
                                    </div>
        									
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="item active">
                                            <img src="assets/images/cerrar.png" alt="Interactuar">
                                          </div>
                                        </div>
                                    </div><!--//row-->
                                </div><!--//section-block-->
                                <div id="step3"  class="section-block">
                                    <h3 class="block-title">Widgets</h3>
                                    <p>Pequeñas aplicaciones que se pueden instalar y ubicar en cualquier parte del entorno para tener acceso facil a la información que proporcione.
                                    </p>
                                </div><!--//section-block-->
                                <img class="img-responsive" src="assets/images/widjet.png" alt="elegant icons" /></a>
                            </section><!--//doc-section-->
                            <section id="video-tutoriales" class="doc-section">
                                <h2 class="section-title">Video tutoriales</h2>
                                <p>
                                    Vídeo tutoriales que muestran las funcionalidades básicas del sistema VIVE Tatami.
                                </p> 
                                <div class="section-block">
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <h6>Abrir Apps</h6>
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <video id="video1" class="embed-responsive-item" src="assets/videos/abrir.mp4" autoplay loop></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                    <p>
                                        Como abrir las Apps preinstaladas en VIVE Tatami.
                                    </p> 
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <h6>Desplazarse por las Apps</h6>
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <video id="video2" class="embed-responsive-item" src="assets/videos/viajar.mp4" autoplay loop>></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                    <p>
                                        Como desplazarse por el entorno, entre apps y al main Tatami.
                                    </p> 
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <h6>Organizar las Apps</h6>
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <video id="video3" class="embed-responsive-item" src="assets/videos/organizar.mp4" autoplay loop>></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                    <p>
                                        Posibilidades de organización de las Apps preinstaladas dentro del entorno.
                                    </p> 
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <h6>Cerrar Apps</h6>
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <video id="video4" class="embed-responsive-item" src="assets/videos/carrar.mp4" autoplay loop>></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                    <p>
                                        Cerrar las Apps abiertas que ya no vayas a necesitar.
                                    </p> 
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <h6>Widgets</h6>
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <video id="video5" class="embed-responsive-item" src="assets/videos/widjet.mp4" autoplay loop>></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                    <p>
                                        Ubicacion de diferentes widgets como puede ser el de el tiempo, noticias, etc.
                                    </p> 
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="code-section" class="doc-section">
                                <h2 class="section-title">Código</h2>
                                <div class="section-block">
                                    <p>
                                        Glosario de librerias y scripts propios útiles para su implementación en otros proyectos.
                                    </p> 
                                </div><!--//section-block-->
                                <div id="iTween" class="section-block">
                                    <div class="code-block">
                                        <h2>iTween Code Example</h2>
                                        <p>
                                            Aunque parezca mentira, dotar a cualquier objeto de animaciones simples (posicion, rotacion, escalado, etc.) es tremendamente engorroso y en todos los casos implica implementar la funcionalidad dentro de la funcion <i>Update()</i> de la clase, que recordemos que es una funcion que se llema en cada frame, lo que supone varios problemas de rendimiento si abusamos de el.
                                        </p>
                                        <p>    
                                            La libreria <a href="http://www.pixelplacement.com/itween/documentation.php" target="_blank">iTween</a> facilita las transiciones entre estados del objeto sin tener que hacer el control a traves del loop de update. Tremendamente util aunque con sus limitaciones, como por ejemplo, que solo puedes manejar los aributos ya contemplados por la libreria, como el color, tamaño, posición o rotacion. Para alterar y animar otras porpiedades, como por ejemplo, el emitter, directamente no sirve.<!--<q></q>-->
                                        </p>
                                        <pre><code class="language-javascript">
        using UnityEngine;
        using System.Collections;

        public class moveObject : MonoBehaviour {

            public GameObject ObjectToMove;
            public Vector3 PositionBefore;
            public float timeInit;
            public float TimeDuration;
            public iTween.EaseType easeType;
            void Start () {
                StartCoroutine(changePositionr(PositionBefore));
            }
            void Update () {
            
            }
            IEnumerator changePositionr(Vector3 pos){

                yield return new WaitForSeconds(timeInit);
                iTween.MoveTo( ObjectToMove, iTween.Hash(
                        "x"    , pos.x,
                        "y"    , pos.y,
                        "z"    , pos.z,
                        "easeType", easeType,
                        "time" , TimeDuration,
                        "delay" , 0.5f
                    ));
                yield break;
            }
        }
                                        </code></pre>
                                    </div><!--//code-block-->
                                </div><!--//section-block-->
                                <div id="pointer" class="section-block">
                                    <div class="code-block">
                                        <h2>Control Pointer Code Example</h2>
                                        <p>
                                           La manera más habitual actualmente de desplazarse o interactuar con elementos que no estan a nuestro alcance en un entorno VR es uilizar un <i>pointer</i>. Un puntero que sale desde el controller y con el que poder apuntar y activar diferentes acciones. Y aunque parezca mentira, un recurso tan utilizado y tan práctico en este tipo de entornos no cuenta con un <i>prefab</i> en Unity y necesitaremos crear nuestro propio Script. Aunque soluciones hay muchas, aqui reflejamos el codigo para crear uno sencillo y muy configurable, basado en <i>Raycast</i>, para obtener la información de los objetos a los que apuntes.
                                        </p>
                                        <pre><code class="language-javascript">
        using UnityEngine;
        using System.Collections;

        public class controlPointer : MonoBehaviour {

             public enum AxisType
            {
                XAxis,
                ZAxis
            }

            public Color color;
            public float thickness = 0.002f;    
            public AxisType facingAxis = AxisType.XAxis;
            public float length = 100f;
            public bool showCursor = true;
            public static string objectContacted = "undefined";

            GameObject holder;
            GameObject pointer;
            GameObject cursor;

            Vector3 cursorScale = new Vector3(0.05f, 0.05f, 0.05f);
            float contactDistance = 0f;
            Transform contactTarget = null;

            void SetPointerTransform(float setLength, float setThicknes)
            {
                //if the additional decimal isn't added then the beam position glitches
                float beamPosition = setLength / (2 + 0.00001f);

                if (facingAxis == AxisType.XAxis)
                {
                    pointer.transform.localScale = new Vector3(setLength, setThicknes, setThicknes);
                    pointer.transform.localPosition = new Vector3(beamPosition, 0f, 0f);
                    if (showCursor)
                    {
                        cursor.transform.localPosition = new Vector3(setLength - cursor.transform.localScale.x, 0f, 0f);
                    }
                } else
                {
                    pointer.transform.localScale = new Vector3(setThicknes, setThicknes, setLength);
                    pointer.transform.localPosition = new Vector3(0f, 0f, beamPosition);

                    if (showCursor)
                    {
                        cursor.transform.localPosition = new Vector3(0f, 0f, setLength - cursor.transform.localScale.z);
                    }
                }
            }

            // Use this for initialization
            void Start () {
                Material newMaterial = new Material(Shader.Find("Unlit/Color"));
                newMaterial.SetColor("_Color", color);
                
                holder = new GameObject();
                holder.transform.parent = this.transform;
                holder.transform.localPosition = Vector3.zero;

                pointer = GameObject.CreatePrimitive(PrimitiveType.Cube);
                pointer.transform.parent = holder.transform;
                pointer.GetComponent<MeshRenderer>().material = newMaterial;

                pointer.GetComponent<BoxCollider>().isTrigger = true;
                pointer.AddComponent<Rigidbody>().isKinematic = true;
                pointer.layer = 2;

                if (showCursor)
                {
                    cursor = GameObject.CreatePrimitive(PrimitiveType.Sphere);
                    cursor.name = "pointActive";
                    cursor.transform.parent = holder.transform;
                    cursor.GetComponent<MeshRenderer>().material = newMaterial;
                    cursor.transform.localScale = cursorScale;

                    cursor.GetComponent<SphereCollider>().isTrigger = true;
                    cursor.AddComponent<Rigidbody>().isKinematic = true;
                    cursor.layer = 2;
                }

                SetPointerTransform(length, thickness);        
            }

            float GetBeamLength(bool bHit, RaycastHit hit)
            {
                float actualLength = length;

                //reset if beam not hitting or hitting new target
                if (!bHit || (contactTarget && contactTarget != hit.transform))
                {
                    contactDistance = 0f;
                    contactTarget = null;
                }

                //check if beam has hit a new target
                if (bHit)
                {
                    if (hit.distance <= 0)
                    {

                    }
                    contactDistance = hit.distance;
                    contactTarget = hit.transform;
                    if( hit.transform.gameObject.layer == 10 || hit.transform.gameObject.layer == 11 ) { objectContacted = hit.transform.name; }
                    else objectContacted = "undefined";
                }

                //adjust beam length if something is blocking it
                if (bHit && contactDistance < length)
                {
                    actualLength = contactDistance;
                }

                if (actualLength <= 0)
                {
                    actualLength = length;
                }

                return actualLength; ;
            }
            
            void Update () {
                Ray raycast = new Ray(transform.position, transform.forward);
                
                RaycastHit hitObject;
                bool rayHit = Physics.Raycast(raycast, out hitObject);

                float beamLength = GetBeamLength(rayHit, hitObject);
                SetPointerTransform(beamLength, thickness);
            }
        }
                                        </code></pre>
                                    </div><!--//code-block-->
                                </div><!--//section-block-->
                                <div id="inputs" class="section-block">
                                    <div class="code-block">
                                        <h2>Control inputs Code Example</h2>
                                         <p>
                                           Cualquier funcionalidad que queramos añadir a los botones de el controller HTC Vive tiene que hacerse via Script. Este codigo devuelve para cada uno de los botones <q><i>true</i></q> o <q><i>false</i></q> segun si esta presionado o no y de esta manera añadirles funcionalidad según su estado</q>.
                                        </p>
                                        <pre><code class="language-javascript">
        private SteamVR_TrackedObject trackedObject;
        private SteamVR_Controller.Device device;

        void Start () {
                trackedObject = GetComponent<SteamVR_TrackedObject>();
            }

        void Update () {

                device = SteamVR_Controller.Input((int)trackedObject.index);

                device.GetTouchDown(SteamVR_Controller.ButtonMask.Grip); 

                device.GetPress(SteamVR_Controller.ButtonMask.Trigger);

                device.GetPress(SteamVR_Controller.ButtonMask.ApplicationMenu);

                device.GetPress(SteamVR_Controller.ButtonMask.TouchPad);

            }
                                        </code></pre>
                                    </div><!--//code-block-->
                                    <p>
                                        Hay que tener en cuenta que estos scripts solo tienen acceso al estado de los botones si estan inyectados en el propio objeto, no se puede acceder a ellos desde cualquier otro objeto (<q><i>ver imagen</i>).
                                    </p>
                                     <div class="row">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <!-- 16:9 aspect ratio -->
                                            <div class="embed-responsive embed-responsive-16by9">
                                                <img id="video5" class="embed-responsive-item" src="assets/images/inyectScriptController.png" autoplay loop>></video>
                                            </div>
                                        </div>
                                    </div><!--//row-->
                                </div><!--//section-block-->
                                <div id="layers" class="section-block">
                                    <div class="code-block">
                                        <h2>layer filter Code Example</h2>
                                        <pre><code class="language-javascript">
                            transform.gameObject.layer
                                        </code></pre>
                                    </div><!--//code-block-->
                                     <p>
                                       Según como este estructurada nuestra app, a menudo es necesario obtener via script la capa en la que hemos ubicado un elemento para decidir si se ve afectado por una acción o no y en la documentacion de Unity no hay especidficaciones para acceder a ella. esta simple linea inyectada en el propio objeto nos devuelve el numero y nombre de la capa en la que se encuentra.
                                    </p>
                                </div><!--//section-block-->
                                <div id="api" class="section-block">
                                    <div class="code-block">
                                        <h2>API rest</h2>
                                        <pre><code class="language-javascript">
            public GameObject rainSystem;
            public GameObject CloudSystem;
            private Text txt;
            
            IEnumerator AdjustSkyToWeather() {
                while (true) {

                    string weatherUrl = "http://api.openweathermap.org/data/2.5/weather?q=Madrid,ES&units=metric&appid=";
                    
                    WWW weatherWWW = new WWW (weatherUrl);

                    yield return weatherWWW;
                    
                    JSONObject tempData = new JSONObject (weatherWWW.text);
                    
                    yield return new WaitForSeconds(60);
                }
            }
            
            void Start () {
                StartCoroutine (AdjustSkyToWeather());
            }
                                        </code></pre>
                                    </div><!--//code-block-->
                                     <p>
                                       Consumir API de terceros que nos aporten información contextual para, por ejemplo, un widget del tiempo, no esta contemplado por Unity, por lo que se hace necesario instalar un plugin adicional. En nustro caso optamos por WWW, de cuyo uso dejamos constancia con este Script.
                                    </p>
                                     <p>
                                       Con este Script llamamos al coroutine cada 60 segundos para actualizar la informacion del tiempo a traves de la API de <i>openWeatherMap</i>.(A dia de hoy, este plugin ya forma parte de las librerias standar de Unity).
                                    </p>
                                </div><!--//section-block-->
                                 <div id="json" class="section-block">
                                    <div class="code-block">
                                        <h2>JSON parsing</h2>
                                        <pre><code class="language-javascript">
                            
            void Start () {
                string weatherUrl = "http://api.openweathermap.org/data/2.5/weather?q=Madrid,ES&units=metric&appid=";
                    
                WWW weatherWWW = new WWW (weatherUrl);

                yield return weatherWWW;
                
                JSONObject tempData = new JSONObject (weatherWWW.text);
                    
            }
                                        </code></pre>
                                    </div><!--//code-block-->
                                     <p>
                                       Unity tampoco esta preparado para trabajar con datos en formato JSON, que tan comunes son en el uso de API, por eso es necesario instalar un plugin que convierta los datos en este formato en uno que Unity entienda. Hay muchas librerias con las que poder convertirlo, en este caso usamos JSONObject y dejamos un ejemplo de como transformar los datos recibidos.
                                    </p>
                                    <p>
                                       Aprovecho para comentar que <i>yield return</i> funciona en c# igual que un <i>callback</i> o un <i>promise</i> en javascript, detiene la cola de procesos hasta que recibe <i>weatherWWW</i>. Asi evitamos que haga el JSON parsing antes de que hayan podido llegar los datos desde la API.
                                    </p>
                                </div><!--//section-block-->
                                 <div id="rotate" class="section-block">
                                    <div class="code-block">
                                        <h2>Rotate around</h2>
                                        <pre><code class="language-javascript">     
             public GameObject CenterToOrbital;
             public Transform center;
             public Vector3 axis = Vector3.up;
             public float radius = 0.4f;
             public float radiusSpeed = 0.4f;
             public float rotationSpeed = 2.0f;
         
             void Start () {
                radius = 0.4f;
                radiusSpeed = 0.4f;
                rotationSpeed = 2.0f;
                center = CenterToOrbital.transform;
                transform.position = (transform.position - center.position).normalized * radius + center.position;
             }
             
             void Update () {
                 transform.RotateAround (center.position, axis, rotationSpeed * Time.deltaTime);
                 desiredposition = (transform.position - center.position).normalized * radius + center.position;
                 transform.position = Vector3.MoveTowards(transform.position, desiredposition, Time.deltaTime * radiusSpeed);
             }
                                        </code></pre>
                                    </div><!--//code-block-->
                                     <p>
                                       Un ejemplo de animacion simple que no esta contemplada en la libreria ITween es una simple funcion para que un objeto rote al rededor de otro.
                                    </p>
                                    <p>
                                       En este caso si es necesario recurrir al loop de update para animar la funcion, y dividir la posicion en lugar de frame a frame (que es la frecuencia a la que funciona el loop de <i>Update()</i>) utilizando unidades de tiempo ( <i>Time.deltaTime</i> ) para reducir la frecuencia con la que es llamada y mejorar un poco el rendimiento.
                                    </p>
                                </div><!--//section-block-->
                                  <div id="speech" class="section-block">
                                    <div class="code-block">
                                        <h2>speechRecognition</h2>
                                        <pre><code class="language-javascript">
            using UnityEngine;
            using System.Collections;
            using UnityEngine.Windows.Speech;
            using System.Collections.Generic;
            using System.Linq;

            public class speechRecognition : MonoBehaviour {

                //private Dictionary<string, System.Action> keywords = new Dictionary<string, System.Action>();
                private string[] keywords = new string[] { "hola", "abrir", "cerrar", "atras" };
                public ConfidenceLevel confidence = ConfidenceLevel.Medium;
                protected string word = "cerrar App";
                private KeywordRecognizer recognizer;
                public static string phraseToBox = "";
                void Start () {
                     if (keywords != null)
                    {
                        recognizer = new KeywordRecognizer(keywords, confidence);
                        recognizer.OnPhraseRecognized += Recognizer_OnPhraseRecognized;
                        recognizer.Start();
                    }
                }

                public void Recognizer_OnPhraseRecognized( PhraseRecognizedEventArgs args ){

                    System.Action keywordAction;

                    Debug.Log(args.text);

                    if( mainControllerScript.mainMenuPosition == 1 ) phraseToBox = args.text;

                    if( keywords.TryGetValue(args.text, out keywordAction) ){
                        keywordAction.Invoke();
                    }
                }

                void OnApplicationQuit()
                {
                    if (recognizer != null && recognizer.IsRunning)
                    {
                        recognizer.OnPhraseRecognized -= Recognizer_OnPhraseRecognized;
                        recognizer.Stop();
                    }
                }
            }
                                        </code></pre>
                                    </div><!--//code-block-->
                                     <p>
                                       Unity cuenta con una libreria nativa para tareas de speech to text. en este codigo ejemplo mostramos como poder utilizarla para realizar por ejemplo comandos de voz. 
                                    </p>
                                    <p>
                                       <i>KeywordRecognizer</i> ofrece la posibilidad de buscar match de lo que recoge el microfono y un listado de terminos que le pasemos para poder realizar tareas concretas segun que palabra reconozca.
                                    </p>
                                    <p>
                                       <i>OnPhraseRecognized</i> permite recoger oraciones enteras, que despues podemos pasar a un sistema de NLP para realizar interacciones conversacionales con nuestra App. <b>(actualmente despues de las últimas actualizaciones en Windows 10 <i>OnPhraseRecognized</i> no es compatible y ha quedado fuera de uso)</b>.
                                    </p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar hidden-xs">
                        <nav id="doc-nav">
                            <ul id="doc-menu" class="nav doc-menu" data-spy="affix">
                                <li><a class="scrollto" href="#Getstarted-section">Get started</a></li>
                                <li>
                                    <a class="scrollto" href="#navegacion-section">Navegación</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#dock">DockTatami</a></li>
                                        <li><a class="scrollto" href="#step2">Tatami Controller</a></li>
                                        <li><a class="scrollto" href="#step3">Widgets</a></li>
                                    </ul>
                                </li>
                                <li><a class="scrollto" href="#video-tutoriales">Vídeos</a></li>
                                <li>
                                    <a class="scrollto" href="#code-section">Code</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#iTween">iTween</a></li>
                                        <li><a class="scrollto" href="#pointer">Control Pointer</a></li>
                                        <li><a class="scrollto" href="#inputs">Control Inputs</a></li>
                                        <li><a class="scrollto" href="#layers">Layer filter</a></li>
                                        <li><a class="scrollto" href="#api">API Rest</a></li>
                                        <li><a class="scrollto" href="#json">JSON Parsing</a></li>
                                        <li><a class="scrollto" href="#rotate">Rotate Around</a></li>
                                        <li><a class="scrollto" href="#speech">speechRecognition</a></li>
                                    </ul>
                                </li>
                                <!--<li><a class="scrollto" href="#callouts-section">Callouts</a></li>
                                <li><a class="scrollto" href="#tables-section">Tables</a></li>
                                <li><a class="scrollto" href="#buttons-section">Buttons</a></li>
                                <li><a class="scrollto" href="#video-section">Video</a></li>
                                <li><a class="scrollto" href="#icons-section">Icons</a></li>-->
                            </ul><!--//doc-menu-->
                        </nav>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->              
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    
    </div><!--//page-wrapper-->
    
    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
            <small class="copyright">Designed by <a href="https://www.youtube.com/watch?v=WosrUnjb2UQ" target="_blank">Scary BigPeach</a> for developers</small>
            
        </div><!--//container-->
    </footer><!--//footer--> 
    <!-- Main Javascript -->          
    <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>    
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>                                                                
    <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
    
</body>
</html> 

